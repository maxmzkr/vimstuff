package tutorial.generic;

import net.minecraft.item.Item;
import net.minecraft.block.Block;
import net.minecraft.block.material.Material;
import net.minecraft.client.Minecraft;
import net.minecraft.client.renderer.entity.RenderItem;
import net.minecraft.client.resources.model.ModelResourceLocation;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraftforge.common.MinecraftForge;
import net.minecraftforge.fml.common.Mod;
import net.minecraftforge.fml.common.Mod.EventHandler;
import net.minecraftforge.fml.common.Mod.Instance;
import net.minecraftforge.fml.common.SidedProxy;
import net.minecraftforge.fml.common.event.FMLInitializationEvent;
import net.minecraftforge.fml.common.event.FMLPostInitializationEvent;
import net.minecraftforge.fml.common.event.FMLPreInitializationEvent;
import net.minecraftforge.fml.common.registry.GameRegistry;
import net.minecraftforge.fml.relauncher.Side;

@Mod(modid=Generic.modid, name=Generic.name, version="0.0.0")
public class Generic {
	public final static String modid = "GenericMod";
	public final static String name = "GenericMod";
	public static Item item1;
	public static Item genericIngot;
	public static Block genericDirt;
	public static Block genericOre;

  @Instance(value="GenericModID")
	public static Generic instance;

  @SidedProxy(clientSide="tutorial.generic.client.ClientProxy",
	            serverSide="tutorial.generic.CommonProxy")
	public static CommonProxy proxy;

	@EventHandler
	public void preInit(FMLPreInitializationEvent event) {
		item1 = new GenericItem(64, CreativeTabs.tabMisc, 1, "genericItem");
		genericIngot = new GenericItem(16, CreativeTabs.tabMisc, 1, "genericIngot");
		genericDirt = new GenericBlock(Material.ground)
			.setHardness(0.5F)
		  .setStepSound(Block.soundTypeGravel)
		  .setUnlocalizedName("genericDirt")
		  .setCreativeTab(CreativeTabs.tabBlock);
    genericOre = new GenericOre(Material.rock);
		GameRegistry.registerItem(item1, "genericItem");
		GameRegistry.registerItem(genericIngot, "genericIngot");

		genericDirt.setHarvestLevel("shovel", 0);
		genericOre.setHarvestLevel("pickaxe", 3);
		GameRegistry.registerBlock(genericDirt, "genericDirt");
		GameRegistry.registerBlock(genericOre, "genericOre");
	}

	@EventHandler
	public void init(FMLInitializationEvent event) {
		if (event.getSide() == Side.CLIENT) {
			RenderItem renderItem = Minecraft.getMinecraft().getRenderItem();
			renderItem.getItemModelMesher().register(item1, 0, new ModelResourceLocation("genericmod:genericItem", "inventory"));
		}
	}

	@EventHandler
	public void load(FMLInitializationEvent event) {
	}

	@EventHandler
	public void postInit(FMLPostInitializationEvent event) {

	}
}
