package pearauth

import (
  "encoding/json"
  "io/ioutil"
  "log"
)

type Site struct {
  ClientId string `json:"clientId"`
  ClientSecret string `json:"clientSecret"`
  Scope string `json:"scope"`
  RedirectURL string `json:"redirectURL"`
  AuthURL string `json:"autURL"`
  TokenURL string `json:"tokenURL"`
  RequestURL string `json:"requestURL"`
}

type Config map[string]Site


func setup(configPath string) (Config, error) {
  file, e := ioutil.ReadFile(configPath)
  if e != nil {
    log.Fatal("File error: %v\n", e)
    return nil, e
  }

  var config Config
  json.Unmarshal(file, &config)

  return config, nil
}
